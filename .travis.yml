language: csharp
dotnet: 2.0.0
solution: LuxaforLyncTool/LuxaforLyncTool.sln
jobs:
  include:
    - stage: Dependencies
      script:
        - nuget restore LuxaforLyncTool/LuxaforLyncTool.sln
        - nuget install NUnit.Runners -Version 2.6.4 -OutputDirectory testrunner
    - stage: Build
      script:
        - dotnet build ".\LuxaforLyncTool\LuxaforLyncTool_Light\LuxaforLyncTool_Light.csproj" -c Release
        - dotnet build ".\LuxaforLyncTool\LuxaforLyncTool_Lync\LuxaforLyncTool_Lync.csproj" -c Release
        - msbuild ".\LuxaforLyncTool\LuxaforLyncTool_Client\LuxaforLyncTool_Client.csproj" /t:Build /p:Configuration=Release
        - msbuild ".\LuxaforLyncTool\LuxaforLyncTool_Test\LuxaforLyncTool_Test.csproj" /t:Build /p:Configuration=Releas
	- stage: Tests
	  script:
        - mono ./testrunner/NUnit.Runners.2.6.4/tools/nunit-console.exe ./LuxaforLyncTool/LuxaforLyncTool_Test/bin/Release/LuxaforLyncTool_Test.dll
